{"version":3,"sources":["../src/plugins/sdk/plugin-builder.ts"],"names":[],"mappings":"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","file":"chunk-GRGGQZR2.js","sourcesContent":["/**\n * Plugin Builder SDK\n * \n * Provides a fluent API for building SonicJS plugins\n */\n\nimport { Hono } from 'hono'\nimport { z } from 'zod'\nimport { Plugin, PluginBuilderOptions, PluginRoutes, PluginMiddleware, PluginModel, PluginService, PluginAdminPage, PluginComponent, PluginHook, PluginMenuItem } from '../types'\n\nexport class PluginBuilder {\n  private plugin: Partial<Plugin>\n\n  constructor(options: PluginBuilderOptions) {\n    this.plugin = {\n      name: options.name,\n      version: options.version,\n      description: options.description,\n      author: options.author,\n      dependencies: options.dependencies,\n      routes: [],\n      middleware: [],\n      models: [],\n      services: [],\n      adminPages: [],\n      adminComponents: [],\n      menuItems: [],\n      hooks: []\n    }\n  }\n\n  /**\n   * Create a new plugin builder\n   */\n  static create(options: PluginBuilderOptions): PluginBuilder {\n    return new PluginBuilder(options)\n  }\n\n  /**\n   * Add metadata to the plugin\n   */\n  metadata(metadata: {\n    description?: string\n    author?: Plugin['author']\n    license?: string\n    compatibility?: string\n    dependencies?: string[]\n  }): PluginBuilder {\n    Object.assign(this.plugin, metadata)\n    return this\n  }\n\n  /**\n   * Add routes to plugin\n   */\n  addRoutes(routes: PluginRoutes[]): PluginBuilder {\n    this.plugin.routes = [...(this.plugin.routes || []), ...routes]\n    return this\n  }\n\n  /**\n   * Add a single route to plugin\n   */\n  addRoute(path: string, handler: Hono, options?: {\n    description?: string\n    requiresAuth?: boolean\n    roles?: string[]\n    priority?: number\n  }): PluginBuilder {\n    const route: PluginRoutes = {\n      path,\n      handler,\n      ...options\n    }\n    this.plugin.routes = [...(this.plugin.routes || []), route]\n    return this\n  }\n\n  /**\n   * Add middleware to plugin\n   */\n  addMiddleware(middleware: PluginMiddleware[]): PluginBuilder {\n    this.plugin.middleware = [...(this.plugin.middleware || []), ...middleware]\n    return this\n  }\n\n  /**\n   * Add a single middleware to plugin\n   */\n  addSingleMiddleware(name: string, handler: any, options?: {\n    description?: string\n    priority?: number\n    routes?: string[]\n    global?: boolean\n  }): PluginBuilder {\n    const middleware: PluginMiddleware = {\n      name,\n      handler,\n      ...options\n    }\n    this.plugin.middleware = [...(this.plugin.middleware || []), middleware]\n    return this\n  }\n\n  /**\n   * Add models to plugin\n   */\n  addModels(models: PluginModel[]): PluginBuilder {\n    this.plugin.models = [...(this.plugin.models || []), ...models]\n    return this\n  }\n\n  /**\n   * Add a single model to plugin\n   */\n  addModel(name: string, options: {\n    tableName: string\n    schema: z.ZodSchema\n    migrations: string[]\n    relationships?: PluginModel['relationships']\n    extendsContent?: boolean\n  }): PluginBuilder {\n    const model: PluginModel = {\n      name,\n      ...options\n    }\n    this.plugin.models = [...(this.plugin.models || []), model]\n    return this\n  }\n\n  /**\n   * Add services to plugin\n   */\n  addServices(services: PluginService[]): PluginBuilder {\n    this.plugin.services = [...(this.plugin.services || []), ...services]\n    return this\n  }\n\n  /**\n   * Add a single service to plugin\n   */\n  addService(name: string, implementation: any, options?: {\n    description?: string\n    dependencies?: string[]\n    singleton?: boolean\n  }): PluginBuilder {\n    const service: PluginService = {\n      name,\n      implementation,\n      ...options\n    }\n    this.plugin.services = [...(this.plugin.services || []), service]\n    return this\n  }\n\n  /**\n   * Add admin pages to plugin\n   */\n  addAdminPages(pages: PluginAdminPage[]): PluginBuilder {\n    this.plugin.adminPages = [...(this.plugin.adminPages || []), ...pages]\n    return this\n  }\n\n  /**\n   * Add a single admin page to plugin\n   */\n  addAdminPage(path: string, title: string, component: string, options?: {\n    description?: string\n    permissions?: string[]\n    icon?: string\n    menuItem?: PluginMenuItem\n  }): PluginBuilder {\n    const page: PluginAdminPage = {\n      path,\n      title,\n      component,\n      ...options\n    }\n    this.plugin.adminPages = [...(this.plugin.adminPages || []), page]\n    return this\n  }\n\n  /**\n   * Add admin components to plugin\n   */\n  addComponents(components: PluginComponent[]): PluginBuilder {\n    this.plugin.adminComponents = [...(this.plugin.adminComponents || []), ...components]\n    return this\n  }\n\n  /**\n   * Add a single admin component to plugin\n   */\n  addComponent(name: string, template: (props: any) => string, options?: {\n    description?: string\n    propsSchema?: z.ZodSchema\n  }): PluginBuilder {\n    const component: PluginComponent = {\n      name,\n      template,\n      ...options\n    }\n    this.plugin.adminComponents = [...(this.plugin.adminComponents || []), component]\n    return this\n  }\n\n  /**\n   * Add menu items to plugin\n   */\n  addMenuItems(items: PluginMenuItem[]): PluginBuilder {\n    this.plugin.menuItems = [...(this.plugin.menuItems || []), ...items]\n    return this\n  }\n\n  /**\n   * Add a single menu item to plugin\n   */\n  addMenuItem(label: string, path: string, options?: {\n    icon?: string\n    order?: number\n    parent?: string\n    permissions?: string[]\n  }): PluginBuilder {\n    const menuItem: PluginMenuItem = {\n      label,\n      path,\n      ...options\n    }\n    this.plugin.menuItems = [...(this.plugin.menuItems || []), menuItem]\n    return this\n  }\n\n  /**\n   * Add hooks to plugin\n   */\n  addHooks(hooks: PluginHook[]): PluginBuilder {\n    this.plugin.hooks = [...(this.plugin.hooks || []), ...hooks]\n    return this\n  }\n\n  /**\n   * Add a single hook to plugin\n   */\n  addHook(name: string, handler: any, options?: {\n    priority?: number\n    description?: string\n  }): PluginBuilder {\n    const hook: PluginHook = {\n      name,\n      handler,\n      ...options\n    }\n    this.plugin.hooks = [...(this.plugin.hooks || []), hook]\n    return this\n  }\n\n  /**\n   * Add lifecycle hooks\n   */\n  lifecycle(hooks: {\n    install?: Plugin['install']\n    uninstall?: Plugin['uninstall']\n    activate?: Plugin['activate']\n    deactivate?: Plugin['deactivate']\n    configure?: Plugin['configure']\n  }): PluginBuilder {\n    Object.assign(this.plugin, hooks)\n    return this\n  }\n\n  /**\n   * Build the plugin\n   */\n  build(): Plugin {\n    // Validate required fields\n    if (!this.plugin.name || !this.plugin.version) {\n      throw new Error('Plugin name and version are required')\n    }\n\n    return this.plugin as Plugin\n  }\n}\n\n/**\n * Helper functions for common plugin patterns\n */\nexport class PluginHelpers {\n  /**\n   * Create a REST API route for a model\n   */\n  static createModelAPI(modelName: string, options?: {\n    basePath?: string\n    permissions?: {\n      read?: string[]\n      write?: string[]\n      delete?: string[]\n    }\n  }): Hono {\n    const app = new Hono()\n    const basePath = options?.basePath || `/${modelName.toLowerCase()}`\n\n    // GET /models - List all\n    app.get('/', async (c) => {\n      // Implementation would depend on the model service\n      return c.json({ message: `List ${modelName} items` })\n    })\n\n    // GET /models/:id - Get by ID\n    app.get('/:id', async (c) => {\n      const id = c.req.param('id')\n      return c.json({ message: `Get ${modelName} with ID: ${id}` })\n    })\n\n    // POST /models - Create new\n    app.post('/', async (c) => {\n      return c.json({ message: `Create new ${modelName}` })\n    })\n\n    // PUT /models/:id - Update\n    app.put('/:id', async (c) => {\n      const id = c.req.param('id')\n      return c.json({ message: `Update ${modelName} with ID: ${id}` })\n    })\n\n    // DELETE /models/:id - Delete\n    app.delete('/:id', async (c) => {\n      const id = c.req.param('id')\n      return c.json({ message: `Delete ${modelName} with ID: ${id}` })\n    })\n\n    return app\n  }\n\n  /**\n   * Create an admin CRUD interface for a model\n   */\n  static createAdminInterface(modelName: string, options?: {\n    icon?: string\n    permissions?: string[]\n    fields?: Array<{\n      name: string\n      type: string\n      label: string\n      required?: boolean\n    }>\n  }): {\n    pages: PluginAdminPage[]\n    menuItems: PluginMenuItem[]\n  } {\n    const basePath = `/admin/${modelName.toLowerCase()}`\n    const displayName = modelName.charAt(0).toUpperCase() + modelName.slice(1)\n\n    const pages: PluginAdminPage[] = [\n      {\n        path: basePath,\n        title: `${displayName} List`,\n        component: `${modelName}List`,\n        permissions: options?.permissions,\n        icon: options?.icon\n      },\n      {\n        path: `${basePath}/new`,\n        title: `New ${displayName}`,\n        component: `${modelName}Form`,\n        permissions: options?.permissions\n      },\n      {\n        path: `${basePath}/:id`,\n        title: `Edit ${displayName}`,\n        component: `${modelName}Form`,\n        permissions: options?.permissions\n      }\n    ]\n\n    const menuItems: PluginMenuItem[] = [\n      {\n        label: displayName,\n        path: basePath,\n        icon: options?.icon,\n        permissions: options?.permissions\n      }\n    ]\n\n    return { pages, menuItems }\n  }\n\n  /**\n   * Create a database migration for a model\n   */\n  static createMigration(tableName: string, fields: Array<{\n    name: string\n    type: 'TEXT' | 'INTEGER' | 'REAL' | 'BLOB'\n    nullable?: boolean\n    primaryKey?: boolean\n    unique?: boolean\n    defaultValue?: string\n  }>): string {\n    const columns = fields.map(field => {\n      let definition = `${field.name} ${field.type}`\n      \n      if (field.primaryKey) definition += ' PRIMARY KEY'\n      if (field.unique) definition += ' UNIQUE'\n      if (!field.nullable && !field.primaryKey) definition += ' NOT NULL'\n      if (field.defaultValue) definition += ` DEFAULT ${field.defaultValue}`\n      \n      return definition\n    }).join(',\\n  ')\n\n    return `\nCREATE TABLE IF NOT EXISTS ${tableName} (\n  ${columns},\n  created_at INTEGER NOT NULL DEFAULT (strftime('%s', 'now')),\n  updated_at INTEGER NOT NULL DEFAULT (strftime('%s', 'now'))\n);\n\nCREATE TRIGGER IF NOT EXISTS ${tableName}_updated_at\n  AFTER UPDATE ON ${tableName}\nBEGIN\n  UPDATE ${tableName} SET updated_at = strftime('%s', 'now') WHERE id = NEW.id;\nEND;\n    `.trim()\n  }\n\n  /**\n   * Create a Zod schema for a model\n   */\n  static createSchema(fields: Array<{\n    name: string\n    type: 'string' | 'number' | 'boolean' | 'date' | 'array' | 'object'\n    optional?: boolean\n    validation?: any\n  }>): z.ZodSchema {\n    const shape: Record<string, z.ZodTypeAny> = {}\n\n    for (const field of fields) {\n      let schema: z.ZodTypeAny\n\n      switch (field.type) {\n        case 'string':\n          schema = z.string()\n          break\n        case 'number':\n          schema = z.number()\n          break\n        case 'boolean':\n          schema = z.boolean()\n          break\n        case 'date':\n          schema = z.date()\n          break\n        case 'array':\n          schema = z.array(z.any())\n          break\n        case 'object':\n          schema = z.object({})\n          break\n        default:\n          schema = z.any()\n      }\n\n      if (field.optional) {\n        schema = schema.optional()\n      }\n\n      if (field.validation) {\n        // Apply additional validation\n        if (field.type === 'string' && field.validation.min) {\n          schema = (schema as z.ZodString).min(field.validation.min)\n        }\n        if (field.type === 'string' && field.validation.max) {\n          schema = (schema as z.ZodString).max(field.validation.max)\n        }\n        if (field.type === 'string' && field.validation.email) {\n          schema = (schema as z.ZodString).email()\n        }\n        if (field.type === 'string' && field.validation.url) {\n          schema = (schema as z.ZodString).url()\n        }\n      }\n\n      shape[field.name] = schema\n    }\n\n    return z.object(shape)\n  }\n}\n\n/**\n * Common plugin templates\n */\nexport class PluginTemplates {\n  /**\n   * Create a simple content type plugin\n   */\n  static contentType(name: string, fields: Array<{\n    name: string\n    type: string\n    label: string\n    required?: boolean\n  }>): Plugin {\n    const builder = PluginBuilder.create({\n      name: `${name}-content-type`,\n      version: '1.0.0',\n      description: `${name} content type plugin`\n    })\n\n    // Create model\n    const schema = PluginHelpers.createSchema(\n      fields.map(f => ({\n        name: f.name,\n        type: f.type as any,\n        optional: !f.required\n      }))\n    )\n\n    const migration = PluginHelpers.createMigration(\n      name.toLowerCase(),\n      fields.map(f => ({\n        name: f.name,\n        type: 'TEXT',\n        nullable: !f.required\n      }))\n    )\n\n    builder.addModel(name, {\n      tableName: name.toLowerCase(),\n      schema,\n      migrations: [migration],\n      extendsContent: true\n    })\n\n    // Create API routes\n    const apiRoutes = PluginHelpers.createModelAPI(name)\n    builder.addRoute(`/api/${name.toLowerCase()}`, apiRoutes)\n\n    // Create admin interface\n    const { pages, menuItems } = PluginHelpers.createAdminInterface(name, {\n      fields\n    })\n    builder.addAdminPages(pages)\n    builder.addMenuItems(menuItems)\n\n    return builder.build()\n  }\n\n  /**\n   * Create an analytics plugin\n   */\n  static analytics(name: string, options?: {\n    endpoints?: string[]\n    dashboard?: boolean\n  }): Plugin {\n    const builder = PluginBuilder.create({\n      name: `${name}-analytics`,\n      version: '1.0.0',\n      description: `${name} analytics plugin`\n    })\n\n    // Add middleware to track requests\n    builder.addSingleMiddleware('analytics-tracker', async (c: any, next: any) => {\n      const start = Date.now()\n      await next()\n      const duration = Date.now() - start\n      \n      // Log analytics data\n      console.info(`Analytics: ${c.req.method} ${c.req.path} - ${duration}ms`)\n    }, {\n      global: true,\n      priority: 1\n    })\n\n    // Add analytics API\n    const analyticsAPI = new Hono()\n    analyticsAPI.get('/stats', (c) => {\n      return c.json({ message: 'Analytics stats' })\n    })\n    builder.addRoute('/api/analytics', analyticsAPI)\n\n    // Add dashboard if requested\n    if (options?.dashboard) {\n      builder.addAdminPage(\n        '/analytics',\n        'Analytics Dashboard',\n        'AnalyticsDashboard',\n        {\n          description: 'View analytics and statistics',\n          icon: 'chart-bar'\n        }\n      )\n\n      builder.addMenuItem('Analytics', '/admin/analytics', {\n        icon: 'chart-bar',\n        order: 100\n      })\n    }\n\n    return builder.build()\n  }\n}\n"]}