name = "my-sonicjs-app"
main = "src/index.ts"
compatibility_date = "2025-05-05"
compatibility_flags = ["nodejs_compat"]

# Cloudflare account
account_id = "f9d6328dc3115e621758a741dda3d5c4"

# Cloudflare Workers settings
workers_dev = true

# D1 Database
# Note: database_name and database_id are automatically updated by GitHub Actions
[[d1_databases]]
binding = "DB"
database_name = "sonicjs-worktree-lane711-otp-email-branding"
database_id = "68223153-215a-4c8f-a9bf-797f11236758"
migrations_dir = "./migrations"

# R2 Bucket for media storage (using CI bucket)
[[r2_buckets]]
binding = "MEDIA_BUCKET"
bucket_name = "sonicjs-ci-media"

# KV Cache (using CI namespace)
[[kv_namespaces]]
binding = "CACHE_KV"
id = "a16f8246fc294d809c90b0fb2df6d363"

# AI binding for Workers AI (AI Search Plugin)
[ai]
binding = "AI"

# Vectorize for semantic search (AI Search Plugin)
[[vectorize]]
binding = "VECTORIZE_INDEX"
index_name = "sonicjs-ai-search"
remote = true

# Environment variables
[vars]
ENVIRONMENT = "development"

# Observability
[observability]
enabled = false
