export const metadata = {
  title: 'Changelog - SonicJS',
  description:
    'Complete changelog of SonicJS from 2018 to present, documenting all features, improvements, and bug fixes across 3,683+ commits.',
}

export const sections = [
  { title: 'Unreleased', id: 'unreleased' },
  { title: 'Version 2.0.x', id: 'version-2-0-x' },
  { title: 'Version 1.0.x', id: 'version-1-0-x' },
  { title: 'Version 0.6.0', id: 'version-0-6-0' },
  { title: 'Version 0.5.x', id: 'version-0-5-x' },
  { title: 'Version 0.4.x', id: 'version-0-4-x' },
  { title: 'Earlier Versions', id: 'earlier-versions' },
  { title: 'Version History Summary', id: 'version-history-summary' },
]

# Changelog

Complete history of SonicJS development, documenting features, improvements, and bug fixes across 7 years of development. {{ className: 'lead' }}

---

## Unreleased

### Added
- **Magic Link Authentication Plugin** - Passwordless login via email (inactive by default as most developers prefer email/password)
- **Core Auth Enhancements** - Plugin extensibility with AuthManager.setAuthCookie() and AuthService interface
- **Difficulty Field** - Improved select field handling in forms
- **Experimental Notice Banner** - Added to plugins page with Discord community link

### Fixed
- All unit test failures in core package
- Non-existent created_by column in content INSERT statements
- Discord invite link updated to correct URL (https://discord.gg/8bMy6bv3sZ)

---

## Version 2.0.x

### [2.0.9] - 2025-11-04

**Added:**
- Improved managed collections display with normalized naming
- Explicit collection registration system

**Changed:**
- Refactored collection management to use explicit registration
- Updated Wrangler to v4.45.4
- Removed duplicate starter template directory
- Removed experimental flag for Plugins menu

**Fixed:**
- Rebuild dist files with updated chunk names

### [2.0.6] - 2025-11-03

**Added:**
- ResponseGroup component for MDX pages
- Pre-generated sections to prevent fs.readdir error in Cloudflare Workers

**Changed:**
- Merged legacy sonicjs repository history (3,683+ commits)
- Improved documentation and contributor workflows

**Fixed:**
- fs.readdir error in Cloudflare Workers by pre-generating sections
- Dynamic import for fast-glob to prevent Workers error
- Duplicate ID attributes in MDX headings
- Silenced Next.js workspace root inference warning

### [2.0.5] - 2025-10-30

**Added:**
- Migration warning banner for admin users
- Publishing and versioning scripts
- Database migration instructions for core package developers
- Settings general tab with database persistence and E2E tests
- Page size selector to database tools table view (default: 20 rows)
- Media cleanup and content duplicate features with E2E tests

**Changed:**
- Made migrations idempotent to support existing databases
- Updated package dependencies
- Improved homepage with creative design

**Fixed:**
- E2E test failures for media and settings
- Missing migration SQL for migrations 014-017
- Content author to use correct database column
- Skipped Workflow Dashboard e2e tests
- API endpoints e2e tests

### [2.0.3] - 2025-10-27

**Added:**
- Auth validation service to fix registration 500 errors
- Dynamic version management utilities from package.json

**Fixed:**
- Health check and login redirect test failures
- Registration 500 errors with proper auth validation
- Template improvements in core package rebuild

### [2.0.2] - 2025-10-24

**Added:**
- Real-time metrics tracking system
- Database tools API endpoints
- Modernized admin profile and dashboard with Catalyst design system

**Changed:**
- Updated plugin registry timestamp
- Cleaned up migrations and fixed TypeScript errors

**Fixed:**
- Removed non-functional permission middleware from user routes
- Filtered out noisy metrics endpoint logging

### [2.0.1] - 2025-10-23

**Added:**
- Published core package v2.0.1 to npm âœ¨
- WIP notices to non-functional settings tabs
- Real-time metrics endpoint for analytics chart
- Admin dashboard route
- Dedicated endpoints for dashboard HTMX fragments

### [2.0.0] - 2025-10-22 ðŸŽ‰

**Major Release: NPM Package Distribution**

**Added:**
- Core package extraction to @sonicjs-cms/core
- Complete route migration to core package
- Template migration with full integration
- Middleware, plugins, and services in core package
- Automatic migration and seeding during setup
- Custom admin credentials setup
- Update scripts to starter templates

**Changed:**
- Package name from @sonicjs/core to @sonicjs-cms/core
- Streamlined create-app setup flow
- Bootstrap middleware moved to monolith with collection sync
- Core package version for app version display

**Fixed:**
- Wrangler warnings and seedAdmin scope
- Cloudflare resource creation error handling
- Template path resolution for npm installed package
- Missing API routes (apiContentCrudRoutes, adminApiRoutes, apiSystemRoutes)

---

## Version 1.0.x

### [1.0.3] - 2025-10-15

**Added:**
- E2E tests for plugin version display
- Collection filtering to content API

**Changed:**
- Standardized all plugin versions to 1.0.0-beta.1

**Fixed:**
- Plugin install versions display
- Media selector UX improvements

### [1.0.0] - 2025-10-14 ðŸŽ‰

**Major Release: Production Ready**

**Added:**
- Media bulk actions with E2E tests
- Pre-push hook to run E2E tests before pushing
- Husky pre-commit hooks
- Dynamic plugin menu system
- Media folder creation
- Comprehensive API filtering system with 14 operators

**Changed:**
- Database-tools plugin activated in migration
- Made E2E tests optional on git push

**Fixed:**
- Media bulk action e2e test failures
- Foreign key constraints
- User management e2e tests (40/42 passing)
- Database-tools and migrations E2E tests JavaScript initialization
- Collection name in E2E test for empty collections
- Plugin E2E tests with auto-install and selector fixes
- Collections E2E test failures
- Media e2e tests (5 failing tests fixed)
- Integration test and TypeScript errors
- XSS prevention test syntax errors
- Deprecated wrangler config
- API route tests to handle isPluginActive middleware calls
- Update KV binding name from KV to CACHE_KV
- XSS vulnerability in user creation and management

---

## Version 0.6.0

### [0.6.0] - 2025-10-08

**Added:**
- Bulk move to folder functionality in media library
- Comprehensive documentation
- Clickable logo navigation to dashboard
- Test coverage thresholds to 90%

**Changed:**
- Development server port standardized to 8787
- Improved dashboard recent activity to show collections
- Replaced lightning bolt with pencil icon for edit button

**Fixed:**
- Dashboard storage usage showing 0 B for media files
- Media library images not loading and size calculation
- Content list row links
- Race condition showing deleted user in list
- Null check for hard delete checkbox in user deletion

---

## Version 0.5.x

### [0.5.4] - 2025-10-07

**Added:**
- Activity logging for content creation, updates, and deletions
- Real-time requests per second analytics to dashboard
- Recent Activity section with real database data
- Developer Docs button to dashboard
- Dynamic confirmation dialogs for content bulk actions

**Changed:**
- Redesigned System Health section with modern gradients and animations
- Improved logging and test coverage
- Filter out deleted content by default with opt-in viewing

**Fixed:**
- Dashboard template TypeScript errors
- Excluded metrics API endpoint from analytics tracking
- Disabled logging for high-frequency /admin/api/metrics endpoint
- Excluded polling endpoints from metrics tracking
- Prevented HTML escaping in dashboard system health display

---

## Version 0.4.x

### [0.4.4] - 2025-10-06

**Added:**
- Design System converted to plugin
- Visual status indicators to plugin cards
- Seed data generator link to plugin settings page

**Changed:**
- Media library view selector updated to match design guide
- Media library search input improved to match content list
- Set app version globally via middleware

**Fixed:**
- Plugin status borders made more visible
- Seed data service converted from Drizzle ORM to D1 Database API
- Plugin activation state preserved across server restarts
- Duplicate cache plugin resolved
- Design plugin added to registry
- Media library view selector

### [0.4.2] - 2025-10-06

**Added:**
- Husky pre-commit hooks
- All tests passing

**Fixed:**
- TypeScript build errors
- Content list row links

### [0.4.0] - 2025-10-06

**Changed:**
- Major refactoring and cleanup
- Version bump

---

## Earlier Versions

### 2024 - Refinement Year
- Continued improvements to core functionality
- Performance optimizations
- Bug fixes and stability improvements

### 2023 - Enhancement Year
- Enhanced plugin system
- Improved admin interface
- Better content management features

### 2022 - Optimization Year
- Database optimization
- API improvements
- Security enhancements

### 2021 - Feature Expansion
- Major feature additions
- UI/UX improvements
- Performance tuning

### 2020 - Architecture Evolution
- Core architecture refinements
- Plugin system enhancements
- Admin panel improvements

### 2019 - Foundation Building
- Dynamic form rendering
- Content type system
- Field type management
- Content instance creation
- Admin UI development

### 2018 - Project Genesis

**August 2018** - The Beginning

- Initial commit
- Project launched as "siteden"
- Basic CMS functionality
- Content listing features
- Surge deployment support
- Logo and branding
- Admin interface foundation

---

## Version History Summary

| Version | Year | Highlights |
|---------|------|------------|
| **2.0.x** | 2025 | Modern cloud-native CMS with npm package distribution, Cloudflare Workers optimized |
| **1.0.x** | 2025 | Production-ready with E2E testing, comprehensive features, and security hardening |
| **0.6.0** | 2025 | Media management and bulk operations |
| **0.5.x** | 2025 | Dashboard analytics and activity logging |
| **0.4.x** | 2025 | Plugin system and design system |
| **0.3.x** | 2024 | Core feature refinements |
| **0.2.x** | 2023 | API and performance improvements |
| **0.1.x** | 2019-2022 | Foundation and early development |

---

## Statistics

- **ðŸ“Š Total Commits**: 3,683+
- **ðŸ“… Development Time**: 7 years (2018-2025)
- **ðŸ‘¥ Contributors**: Community-driven
- **ðŸš€ Releases**: 20+ major versions
- **ðŸ“¦ NPM Package**: Available since 2.0.0

---

## Contributing

Want to help make SonicJS better? See our [Contributing Guide](https://github.com/lane711/sonicjs/blob/main/CONTRIBUTING.md) for information on how to get involved.

## License

MIT - See [LICENSE](https://github.com/lane711/sonicjs/blob/main/LICENSE) for details.

---

**Note**: This changelog represents a comprehensive history derived from the complete git history. For the most up-to-date changes, see the [GitHub repository](https://github.com/lane711/sonicjs).
